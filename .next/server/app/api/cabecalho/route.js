"use strict";(()=>{var e={};e.id=467,e.ids=[467],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},20661:e=>{e.exports=require("sqlite3")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},57310:e=>{e.exports=require("url")},37388:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>g,patchFetch:()=>_,requestAsyncStorage:()=>b,routeModule:()=>m,serverHooks:()=>x,staticGenerationAsyncStorage:()=>h});var a={};o.r(a),o.d(a,{GET:()=>d});var r=o(49303),s=o(88716),i=o(60670),n=o(26360),u=o(20661),p=o.n(u),c=o(87070),l=o(57310);async function d(e){try{let t=await (0,n.bA)({filename:"public/uploads/escola.db",driver:p().Database}),{query:o}=(0,l.parse)(e.url,!0),a=o.nomeTurma;if(console.log("nome_turma: ",a),!a)return c.NextResponse.json({message:"O nome da turma \xe9 obrigat\xf3rio."},{status:400});let r=await t.all("SELECT id, nome, cidade, bimestre FROM ata_cabecalho"),s=`
      SELECT 
        turma.nome_turma,
        tipo_ensino.nome_tipo_ensino
      FROM 
        turma
      JOIN 
        tipo_ensino ON turma.id_tipo_ensino = tipo_ensino.id
      WHERE 
        turma.nome_turma = ?
    `,i=await t.get(s,[a]);return console.log("cabecalho: ",r),console.log("tipoEnsino: ",i),c.NextResponse.json({cabecalho:r,tipoEnsino:i},{status:200})}catch(e){return console.error(e),c.NextResponse.json({message:"Erro ao buscar os dados."},{status:500})}}let m=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/cabecalho/route",pathname:"/api/cabecalho",filename:"route",bundlePath:"app/api/cabecalho/route"},resolvedPagePath:"C:\\Users\\Fabio\\Desktop\\AdviceClass\\src\\app\\api\\cabecalho\\route.jsx",nextConfigOutput:"",userland:a}),{requestAsyncStorage:b,staticGenerationAsyncStorage:h,serverHooks:x}=m,g="/api/cabecalho/route";function _(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:h})}}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),a=t.X(0,[948,972,360],()=>o(37388));module.exports=a})();